<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumina - Your personalized Search!</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Google+Sans+Display:wght@400;500;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Round">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="background-image" id="backgroundImage"></div>
    <div class="background-overlay"></div>

    <div class="overlay" id="overlay"></div>

    <div class="weather" id="weather" style="display: none;">
        <div class="weather-temp" id="weatherTemp">--°</div>
        <div class="weather-desc" id="weatherDesc">Loading...</div>
        <div class="weather-location" id="weatherLocation">
            <span class="material-icons-round" style="font-size: 14px;">location_on</span>
            <span>--</span>
        </div>
    </div>

    <div class="clock" id="clock" style="display: none;">
        <div class="clock-time" id="clockTime">--:--</div>
        <div class="clock-date" id="clockDate">--</div>
    </div>

    <div class="calendar" id="calendar" style="display: none;">
        <div class="calendar-header">
            <button class="calendar-nav" id="calendarPrev">
                <span class="material-icons-round">chevron_left</span>
            </button>
            <div class="calendar-month" id="calendarMonth">January 2024</div>
            <button class="calendar-nav" id="calendarNext">
                <span class="material-icons-round">chevron_right</span>
            </button>
        </div>
        <div class="calendar-grid" id="calendarGrid"></div>
    </div>

    <div class="todo-widget" id="todoWidget" style="display: none;">
        <div class="todo-header">
            <span class="material-icons-round">checklist</span>
            <span>Quick Tasks</span>
        </div>
        <div class="todo-list" id="todoList"></div>
        <div class="todo-add">
            <input type="text" class="todo-input" id="todoInput" placeholder="Add a task...">
            <button class="todo-add-btn" id="todoAddBtn">
                <span class="material-icons-round">add</span>
            </button>
        </div>
    </div>

    <div class="quick-actions" id="quickActions" style="display: none;">
        <div class="quick-actions-header">
            <span class="material-icons-round">flash_on</span>
            <span>Quick Actions</span>
        </div>
        <div class="quick-actions-grid">
            <button class="quick-action" data-action="new-tab">
                <span class="material-icons-round">add</span>
                <span>New Tab</span>
            </button>
            <button class="quick-action" data-action="bookmarks">
                <span class="material-icons-round">bookmark</span>
                <span>Bookmarks</span>
            </button>
            <button class="quick-action" data-action="history">
                <span class="material-icons-round">history</span>
                <span>History</span>
            </button>
            <button class="quick-action" data-action="downloads">
                <span class="material-icons-round">download</span>
                <span>Downloads</span>
            </button>
        </div>
    </div>

    <div class="notes-sidebar" id="notesSidebar">
        <div class="notes-header">
            <div class="notes-title">Notes</div>
            <button class="notes-close" id="notesClose">
                <span class="material-icons-round">close</span>
            </button>
        </div>
        <div class="notes-tabs" id="notesTabs"></div>
        <div class="notes-content">
            <input type="text" class="notes-title-input" id="notesTitleInput" placeholder="Note title..." autocomplete="off">
            <div class="notes-container">
                <textarea class="notes-textarea" id="notesTextarea" placeholder="Start writing your note..."></textarea>
                <div class="notes-preview" id="notesPreview" style="display: none;"></div>
                <button class="notes-help-btn" id="notesHelpBtn" title="Markdown Help">
                    <span class="material-icons-round">help_outline</span>
                </button>
            </div>
        </div>

        <div class="modal" id="markdownHelpModal" style="max-width: 600px;">
            <div class="modal-title">Markdown Guide</div>
            <div class="markdown-help-content">
                <div class="markdown-section">
                    <h4>Text Formatting</h4>
                    <div class="markdown-example">
                        <code>**bold text**</code> → <strong>bold text</strong><br>
                        <code>*italic text*</code> → <em>italic text</em><br>
                        <code>~~strikethrough~~</code> → <del>strikethrough</del>
                    </div>
                </div>

                <div class="markdown-section">
                    <h4>Headers</h4>
                    <div class="markdown-example">
                        <code># Main Title</code> → <h1>Main Title</h1>
                        <code>## Section</code> → <h2>Section</h2>
                        <code>### Subsection</code> → <h3>Subsection</h3>
                    </div>
                </div>

                <div class="markdown-section">
                    <h4>Lists</h4>
                    <div class="markdown-example">
                        <code>- Item 1<br>- Item 2</code> → <ul><li>Item 1</li><li>Item 2</li></ul>
                        <code>1. First<br>2. Second</code> → <ol><li>First</li><li>Second</li></ol>
                    </div>
                </div>

                <div class="markdown-section">
                    <h4>Links & Code</h4>
                    <div class="markdown-example">
                        <code>[Link Text](URL)</code> → <a href="#">Link Text</a><br>
                        <code>`inline code`</code> → <code>inline code</code><br>
                        <code>```code block```</code> → <pre>code block</pre>
                    </div>
                </div>

                <div class="markdown-section">
                    <h4>Toggle Preview</h4>
                    <p>Type in the text area and see your markdown rendered live! Click the eye icon to toggle between edit and preview modes.</p>
                </div>
            </div>
            <div class="modal-actions">
                <button class="modal-btn primary" id="closeMarkdownHelp">Got it!</button>
            </div>
        </div>
    </div>

    <button class="notes-toggle" id="notesToggle">
        <span class="material-icons-round">notes</span>
    </button>

    <div class="container">
        <div class="header">
            <div class="logo" onclick="location.reload()">lumina</div>
            <div class="header-actions">
                <button class="icon-btn" id="infoBtn" title="About Lumina">
                    <span class="material-icons-round">help_outline</span>
                </button>
                <button class="icon-btn" id="darkModeBtn" title="Toggle dark mode">
                    <span class="material-icons-round">dark_mode</span>
                </button>
                <button class="icon-btn" id="themeBtn" title="Color theme">
                    <span class="material-icons-round">palette</span>
                </button>
                <button class="icon-btn" id="settingsBtn" title="Settings">
                    <span class="material-icons-round">tune</span>
                </button>
            </div>
        </div>

        <div class="search-section">
            <div class="greeting" id="greeting" style="display: none;">
                <div class="greeting-text" id="greetingText">Good morning!</div>
            </div>
            <form class="search-container" id="searchForm">
                <span class="material-icons-round search-icon">search</span>
                <input type="text" class="search-input" id="searchInput" placeholder="Search the web..." autocomplete="off" autofocus>
                <button type="button" class="voice-search-btn" id="voiceSearchBtn" title="Voice Search">
                    <span class="material-icons-round">mic</span>
                </button>
                <button type="submit" class="search-btn">Search</button>
            </form>

            <div class="search-suggestions" id="searchSuggestions" style="display: none;"></div>

            <div class="shortcuts" id="shortcuts"></div>
        </div>
    </div>

    <div class="settings-panel" id="settingsPanel">
        <div class="settings-header">
            <div class="settings-title">Settings</div>
            <button class="icon-btn" id="closeSettings">
                <span class="material-icons-round">close</span>
            </button>
        </div>

        <div class="setting-group">
            <label class="setting-label">Appearance</label>
            <div class="toggle-option" id="darkModeToggle">
                <span>Dark Mode</span>
                <div class="switch">
                    <div class="switch-thumb"></div>
                </div>
            </div>
        </div>

        <div class="setting-group">
            <label class="setting-label">Color Theme</label>
            <div class="color-grid" id="colorGrid"></div>
        </div>

        <div class="setting-group">
            <label class="setting-label">Widgets</label>
            <div class="setting-group-content">
                <div class="toggle-option" id="weatherToggle">
                    <span>Weather Widget</span>
                    <div class="switch active">
                        <div class="switch-thumb"></div>
                    </div>
                </div>
                <div class="toggle-option" id="clockToggle">
                    <span>Shortcuts</span>
                    <div class="switch">
                        <div class="switch-thumb"></div>
                    </div>
                </div>
                <div class="toggle-option" id="calendarToggle">
                    <span>BG Bubbles</span>
                    <div class="switch">
                        <div class="switch-thumb"></div>
                    </div>
                </div>
                <div class="toggle-option" id="todoToggle">
                    <span>Clock Widget</span>
                    <div class="switch">
                        <div class="switch-thumb"></div>
                    </div>
                </div>
                <div class="toggle-option" id="quickActionsToggle">
                    <span>Greeting</span>
                     <div style="font-size: 12px; color: var(--md-sys-color-on-surface-variant); margin-top: 4px;">- overlaps on certain scalings</div>
                    <div class="switch">
                        <div class="switch-thumb"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="setting-group">
            <label class="setting-label">IN DEVELOPMENT - Extra Widgets!</label>
            <div class="setting-group-content">
                <div class="toggle-option" id="shortcutsToggle">
                    <span>Calendar</span>
                    <div class="switch active">
                        <div class="switch-thumb"></div>
                    </div>
                </div>
                <div class="toggle-option" id="animationsToggle">
                    <span>Quick Task Notes Widget</span>
                    <div class="switch active">
                        <div class="switch-thumb"></div>
                    </div>
                </div>
                <div class="toggle-option" id="greetingToggle">
                    <span>Quick Actions</span>
                    <div class="switch active">
                        <div class="switch-thumb"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="setting-group" id="devOptionsGroup">
            <div class="setting-group-header" id="devOptionsHeader">
                <label class="setting-label" style="margin: 0;">Developer Options</label>
                <span class="material-icons-round">expand_more</span>
            </div>
            <div class="setting-group-content">
                <div class="toggle-option" id="searchSuggestionsToggle">
                    <span>Search Suggestions</span>
                    <div class="switch">
                        <div class="switch-thumb"></div>
                    </div>
                </div>
                <div class="toggle-option" id="animatedBlobsToggle">
                    <span>Animated Blobs</span>
                    <div class="switch">
                        <div class="switch-thumb"></div>
                    </div>
                </div>
                <div class="toggle-option" id="openInSameTabToggle">
                    <span>Open in Same Tab</span>
                    <div class="switch">
                        <div class="switch-thumb"></div>
                    </div>
                </div>
                <div class="toggle-option" id="shiftEnterToggle">
                    <span>Shift+Enter to Search</span>
                    <div class="switch">
                        <div class="switch-thumb"></div>
                    </div>
                </div>
                <div style="padding: 16px 20px; background: var(--md-sys-color-surface-container-high); border-radius: 16px; margin-bottom: 12px;">
                    <label style="font-size: 14px; font-weight: 500; display: block; margin-bottom: 8px; color: var(--md-sys-color-on-surface);">Manual City Override</label>
                    <input type="text" id="manualCity" placeholder="e.g., San Francisco, CA" style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid var(--md-sys-color-outline-variant); background: var(--md-sys-color-surface); color: var(--md-sys-color-on-surface); font-family: 'Google Sans', sans-serif; font-size: 14px;">
                </div>
            </div>
        </div>

        <div class="setting-group">
            <label class="setting-label">Background</label>
            <div class="toggle-option" id="backgroundImageBtn">
                <span>Upload Background</span>
                <span class="material-icons-round">image</span>
            </div>
            <div class="toggle-option" id="removeBackgroundBtn">
                <span>Remove Background</span>
                <span class="material-icons-round">delete</span>
            </div>
            <div style="padding: 16px 20px; background: var(--md-sys-color-surface-container-high); border-radius: 16px; margin-bottom: 12px;">
                <label style="font-size: 14px; font-weight: 500; display: block; margin-bottom: 8px; color: var(--md-sys-color-on-surface);">Background Opacity</label>
                <input type="range" id="backgroundOpacity" min="0" max="1" step="0.1" style="width: 100%;">
                <div style="font-size: 12px; color: var(--md-sys-color-on-surface-variant); margin-top: 4px;">Adjust background image transparency</div>
            </div>
            <input type="file" id="backgroundImageFile" accept="image/*" style="display: none;">
        </div>

        <div class="setting-group">
            <label class="setting-label">Data Management</label>
            <div class="toggle-option" id="exportBtn">
                <span>Export Settings</span>
                <span class="material-icons-round">download</span>
            </div>
            <div class="toggle-option" id="importBtn">
                <span>Import Settings</span>
                <span class="material-icons-round">upload</span>
            </div>
            <input type="file" id="importFile" accept=".json" style="display: none;">
        </div>

        <div class="setting-group">
            <button class="reset-btn" id="resetBtn">
                <span class="material-icons-round">restore</span>
                Restore Defaults
            </button>
        </div>
    </div>

    <div class="modal" id="shortcutModal">
        <div class="modal-title">Add Shortcut</div>
        <input type="text" class="modal-input" id="shortcutLabel" placeholder="Label (e.g. YouTube)">
        <input type="text" class="modal-input" id="shortcutUrl" placeholder="URL (e.g. https://youtube.com)">
        <input type="text" class="modal-input" id="shortcutIcon" placeholder="Material Icon (e.g. play_circle)">
        <div class="modal-actions">
            <button class="modal-btn secondary" id="cancelShortcut">Cancel</button>
            <button class="modal-btn primary" id="addShortcut">Add</button>
        </div>
    </div>

    <div class="modal" id="infoModal" style="max-width: 600px;">
        <div class="modal-title">About Lumina</div>
        <div style="line-height: 1.6; color: var(--md-sys-color-on-surface);">
            <h3 style="margin: 20px 0 10px 0; color: var(--md-sys-color-primary); font-size: 18px;">Project Overview</h3>
            <p>Lumina is a modern, privacy-focused search engine interface built with vanilla HTML, CSS, and JavaScript, which really goes to show what you can do with barebone items! It provides a clean, customizable search experience with weather integration, shortcuts, and 12 color themes.</p>

            <h3 style="margin: 20px 0 10px 0; color: var(--md-sys-color-primary); font-size: 18px;">Development History</h3>
            <p>Created as a lightweight alternative to heavy search interfaces, Lumina focuses on speed, privacy, and user customization! The small project is based on Material Design principles and responsive design.</p>

            <h3 style="margin: 20px 0 10px 0; color: var(--md-sys-color-primary); font-size: 18px;">Backend & APIs</h3>
            <p><strong>Search:</strong> Powered by DuckDuckGo for privacy-focused search results<br>
            <strong>Weather:</strong> Open-Meteo API for weather data<br>
            <strong>Location:</strong> IP-based geolocation (approximate and secure) for weather</p>

            <h3 style="margin: 20px 0 10px 0; color: var(--md-sys-color-primary); font-size: 18px;">Privacy Information</h3>
            <p>• No search queries are stored or tracked<br>
            • Weather location is approximate (IP-based) for privacy<br>
            • All settings stored locally in your browser<br>
            • No analytics or tracking scripts</p>

            <h3 style="margin: 20px 0 10px 0; color: var(--md-sys-color-primary); font-size: 18px;">Disclaimer..</h3>
            <p style="background: var(--md-sys-color-error-container); color: var(--md-sys-color-on-error-container); padding: 12px; border-radius: 8px; margin: 10px 0;">
                <strong>⚠️ Location Accuracy:</strong> Weather location is approximate and based on your IP address. For precise weather data, you can manually set your city in Developer Options. We don't request your exact location to protect your privacy.
            </p>
        </div>
        <div class="modal-actions">
            <button class="modal-btn primary" id="closeInfo">Got it!</button>
            <a href="https://github.com/hnpf/lumina-search" target="_blank">
                <button class="modal-btn secondary">Source on github</button>
            </a>
        </div>
    </div>

    <div class="modal" id="confirmModal" style="max-width: 400px;">
        <div class="modal-title">Delete Note</div>
        <div style="line-height: 1.6; color: var(--md-sys-color-on-surface); text-align: center; margin: 20px 0;">
            <p>Are you sure you want to delete this note?</p>
            <p style="font-size: 14px; color: var(--md-sys-color-on-surface-variant); margin-top: 8px;">This action cannot be undone.</p>
        </div>
        <div class="modal-actions">
            <button class="modal-btn secondary" id="cancelConfirm">Cancel</button>
            <button class="modal-btn delete" id="confirmDelete">Delete</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
